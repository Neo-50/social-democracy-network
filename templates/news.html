{% extends 'base.html' %}

{% block content %}
<main class="news-page">

    <!-- Submission Form -->
    <section class="news-submit">
        <h2>Submit a News Link</h2>
        <form method="POST" action="{{ url_for('news') }}">
            <input type="url" name="url" placeholder="Paste news article URL here..." required>
            <button type="submit">Submit</button>
        </form>
    </section>

    <!-- News Feed -->
    <section class="news-feed">
        {% for article in articles %}
        <div class="news-item">
            {% if article.image_url %}
            <img src="{{ article.image_url }}" alt="Article image" class="news-image">
            {% endif %}

            <h3 class="news-title">
                <a href="{{ article.url }}" target="_blank">{{ article.title or article.url }}</a>
            </h3>

            {% if article.authors %}
            <p class="news-authors">By {{ article.authors }}</p>
            {% endif %}

            {% if article.description %}
            <p class="news-description">{{ article.description }}</p>
            {% endif %}
        </div>
        {% else %}
        <p class="no-articles">No articles submitted yet.</p>
        {% endfor %}
    </section>

</main>
{% endblock %}
